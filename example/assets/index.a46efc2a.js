import{_ as o}from"./animate.8ea3c80e.js";import{c as n,a as e}from"./use-create.265aacc2.js";import{_ as t}from"./index.67e874ac.js";import{m as a,y as s,d as i,r as c,o as d,c as l,f as r,w as u,n as p,l as m}from"./vendor.cf144a98.js";var h=i({name:"MdToast",components:{MdPopup:t,MdIcon:o},props:{id:{type:String,default:""},icon:{type:String,default:""},iconSvg:{type:Boolean,default:!1},content:{type:[String,Number],default:""},duration:{type:Number,default:0},position:{type:String,default:"center"},hasMask:{type:Boolean,default:!1}},setup(o,n){const{onShow:e,onHide:t,show:i,hide:c,fire:d,isPopupShow:l}=((o,{emit:n})=>{const e=()=>{i.value=!1};let t;const i=a(!1),c=()=>{t&&clearTimeout(t),i.value&&o.duration&&(t=globalThis.setTimeout((()=>{e()}),o.duration))};return s((()=>{t&&clearTimeout(t)})),{onShow:()=>{n("show")},onHide:()=>{n("hide")},show:()=>{i.value=!0,c()},hide:e,fire:c,isPopupShow:i}})(o,n);return{onShow:e,onHide:t,show:i,hide:c,fire:d,isPopupShow:l}}});const f={key:0,class:"md-toast-content"},v={key:1,class:"md-toast-content"};h.render=function(o,n,e,t,a,s){const i=c("md-icon"),h=c("md-popup");return d(),l("div",{class:["md-toast",[o.position]]},[r(h,{modelValue:o.isPopupShow,"onUpdate:modelValue":n[1]||(n[1]=n=>o.isPopupShow=n),"has-mask":o.hasMask,"mask-closable":!1,position:o.position,"append-to-body":!1,onShow:o.onShow,onHide:o.onHide},{default:u((()=>[o.$slots.default?(d(),l("div",f,[p(o.$slots,"default")])):(d(),l("div",v,[o.icon?(d(),l(i,{key:0,name:o.icon,size:"lg",svg:o.iconSvg},null,8,["name","svg"])):m("",!0),o.content?(d(),l("div",{key:1,class:"md-toast-text",innerHTML:o.content},null,8,["innerHTML"])):m("",!0)]))])),_:3},8,["modelValue","has-mask","position","onShow","onHide"])],2)},h._instance=null,h.create=function({content:o="",icon:e="",iconSvg:t=!1,duration:a=3e3,position:s="center",hasMask:i=!1}){var c,d,l;const r={content:o,icon:e,iconSvg:t,duration:a,position:s,hasMask:i};if(h._instance)return h._instance.component.proxy.updateProps(r),void h._instance.component.proxy.show();const u=h._instance=n(h,r);return null==(d=null==(c=null==u?void 0:u.component)?void 0:c.proxy)||d.show(),null==(l=null==u?void 0:u.component)?void 0:l.proxy},h.hide=o=>{var n,t,a;o?(e(null!=(t=null==(n=h._instance)?void 0:n.component.props.id)?t:""),h._instance=null):null==(a=h._instance)||a.component.proxy.hide()},h.info=(o="",n=3e3,e=!1)=>h.create({icon:"",content:o,duration:n,hasMask:e}),h.succeed=(o="",n=3e3,e=!1)=>h.create({icon:"success",content:o,duration:n,hasMask:e}),h.failed=(o="",n=3e3,e=!1)=>h.create({icon:"fail",content:o,duration:n,hasMask:e}),h.loading=(o="",n=0,e=!0)=>h.create({icon:"ring",iconSvg:!0,content:o,duration:n,hasMask:e});const S=h;S.install=o=>{o.component(S.name,S)};export{S as T};
