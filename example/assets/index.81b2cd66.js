var e=Object.defineProperty,l=Object.defineProperties,a=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,o=(l,a,t)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t,d=(e,l)=>{for(var a in l||(l={}))r.call(l,a)&&o(e,a,l[a]);if(t)for(var a of t(l))n.call(l,a)&&o(e,a,l[a]);return e},u=(e,t)=>l(e,a(t));import"./animate.8ea3c80e.js";import{U as i}from"./constants.3b37bb64.js";import{_ as s}from"./index.a3435868.js";import{D as m}from"./index.e25a381b.js";import{m as p,k as c,S as v,j as g,B as f,y as h,M as b,D as x,d as y,r as V,o as S,c as j,f as _,n as w,F as H,h as O,w as R,u as T,t as E,i as M}from"./vendor.cf144a98.js";import{c as D}from"./index.af74a7b4.js";import"./function.6b03fa63.js";import"./index.c6163b2d.js";import"./click-outside.de9d7ac4.js";import"./core.esm.e5e53058.js";const P={modelValue:{type:[Array,Number],default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1,validator:e=>e>0&&Number.isSafeInteger(e)},range:{type:Boolean,default:!1},format:{type:Function,default:e=>e},disabled:{type:Boolean,default:!1},hasTip:{type:Boolean,default:!0},tipPlacement:{type:String,default:"top"}},$=(e,{emit:l})=>{const a=p(null),t=p(null),r=p(null),n=p({width:0,height:0,top:0,bottom:0,left:0,right:0}),o=p([]),d=p(null),{position:u,winDragger:s}=function(){const e=b({x:0,y:0,deltaX:0,draging:!1}),l=new m(window,e);return l.isPrevent=!1,l.destory(),{winDragger:l,position:e}}(),y=p(0),V=p(0);let S,j=null;const _=c((()=>Array.isArray(e.modelValue))),w=c({get:()=>e.modelValue,set:e=>l(i,e)});v((()=>{o.value=[]})),g((()=>{Object.keys(n.value).forEach((e=>{var l,a;n.value[e]=null!=(a=null==(l=r.value)?void 0:l.getBoundingClientRect()[e])?a:0})),S=n.value.width/(e.max-e.min),y.value=_.value?(e.modelValue[1]-e.modelValue[0])*S:(e.modelValue-e.min)*S,V.value=_.value?(e.modelValue[0]-e.min)*S:0,_.value?(o.value[0].style.left=`${V.value}px`,o.value[1].style.left=`${V.value+y.value}px`):o.value[0].style.left=`${y.value}px`}));return f((()=>u.draging),(e=>{var l;const a=null==(l=d.value)?void 0:l.parentElement;e&&a?a.classList.add("is-active"):a&&(a.classList.remove("is-active"),d.value=null,s.destory())})),h((()=>{s.destory()})),{tipRef:a,tipRefHigther:t,barRef:r,draggers:o,position:u,dragStartHandler:l=>{var n,i,m;s.initEvent(),function(e,l){e.preventDefault(),e.stopPropagation(),l.value=e.target}(l,d);const p=null==(n=o.value[0])?void 0:n.contains(d.value);e.hasTip&&(p?null==(i=a.value)||i.triggerShow(!0):null==(m=t.value)||m.triggerShow(!0)),j=f((()=>u.x),(l=>{var a,t,n;const{x:o,width:u}=null!=(t=null==(a=r.value)?void 0:a.getBoundingClientRect())?t:{x:0,width:0},i=null==(n=d.value)?void 0:n.parentElement,s=Math.round((l-o)/S),m=Math.round(s/e.step)*e.step;l-o>0&&!(l>u+o)&&(_.value?(w.value=p?[Math.min(m+e.min,e.modelValue[1]),e.modelValue[1]]:[e.modelValue[0],Math.max(m+e.min,e.modelValue[0])],x((()=>{y.value=(e.modelValue[1]-e.modelValue[0])*S,V.value=(e.modelValue[0]-e.min)*S,i.style.left=p?`${V.value}px`:`${V.value+y.value}px`}))):(w.value=m+e.min,y.value=m*S,i.style.left=`${y.value}px`))}))},dragEndHandler:()=>{var l,r,n;e.hasTip&&((null==(l=o.value[0])?void 0:l.contains(d.value))?null==(r=a.value)||r.triggerShow(!1):null==(n=t.value)||n.triggerShow(!1)),null==j||j(),j=null},currentWidth:y,currentLeft:V,realValue:w,isRange:_}};var z=y({name:"MdSlider",components:{MdTip:s},props:P,emits:[i],setup(e,l){const{tipRef:a,tipRefHigther:t,dragStartHandler:r,dragEndHandler:n,draggers:o,barRef:d,position:u,currentWidth:i,currentLeft:s,realValue:m,isRange:p}=$(e,l);return{tip:a,tipHigther:t,dragStartHandler:r,dragEndHandler:n,draggers:o,slider:d,position:u,currentWidth:i,currentLeft:s,realValue:m,isRange:p}}});z.render=function(e,l,a,t,r,n){const o=V("md-tip");return S(),j("div",{ref:"slider",role:"slider",class:["md-slider",{"is-disabled":e.disabled}]},[_("div",{class:"md-slider-bar",style:{width:e.currentWidth+"px",left:e.currentLeft+"px"}},null,4),w(e.$slots,"dragger",{value:e.modelValue,onTouchStart:e.dragStartHandler,onTouchEnd:e.dragEndHandler,refs:e.draggers,isRange:e.isRange,format:e.format},(()=>[(S(!0),j(H,null,O(e.isRange?[0,1]:[0],(a=>(S(),j("div",{key:a,ref:l=>e.draggers[a]=l,class:["md-slider-handle",[1===a?"is-higher":""]]},[_(o,{ref:0===a?"tip":"tipHigther",name:"slider-tip",closable:!1,placement:e.tipPlacement,content:Array.isArray(e.realValue)?e.format(e.realValue[a].toString()):e.format(e.realValue.toString())},{default:R((()=>[_("span",{onTouchstart:l[1]||(l[1]=(...l)=>e.dragStartHandler&&e.dragStartHandler(...l)),onTouchend:l[2]||(l[2]=(...l)=>e.dragEndHandler&&e.dragEndHandler(...l))},null,32)])),_:2},1032,["placement","content"])],2)))),128))]))],2)},z.install=e=>{e.component(z.name,z)};const C={class:"md-example-child md-example-child-slider-0"};var k=y(u(d({},{name:"SliderDemo",title:"基本"}),{expose:[],setup(e){const l=p(10);return(e,a)=>(S(),j("div",C,[_(T(z),{modelValue:l.value,"onUpdate:modelValue":a[1]||(a[1]=e=>l.value=e)},null,8,["modelValue"])]))}})),B=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:k});const L={class:"md-example-child md-example-child-slider-0"};var U=y(u(d({},{name:"SliderDemo",title:"禁用"}),{expose:[],setup(e){const l=p(55);return(e,a)=>(S(),j("div",L,[_(T(z),{modelValue:l.value,"onUpdate:modelValue":a[1]||(a[1]=e=>l.value=e),disabled:!0},null,8,["modelValue"])]))}})),A=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:U});const N={class:"md-example-child md-example-child-slider-0"};var W=y(u(d({},{name:"SliderDemo",title:"范围"}),{expose:[],setup(e){const l=p([25,55]);return(e,a)=>(S(),j("div",N,[_(T(z),{modelValue:l.value,"onUpdate:modelValue":a[1]||(a[1]=e=>l.value=e)},null,8,["modelValue"])]))}})),F=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:W});const I={class:"md-example-child md-example-child-slider-0"};var X=y(u(d({},{name:"SliderDemo",title:"步长与格式化"}),{expose:[],setup(e){const l=p(20);return(e,a)=>(S(),j("div",I,[_(T(z),{modelValue:l.value,"onUpdate:modelValue":a[1]||(a[1]=e=>l.value=e),step:5,format:e=>`￥${e}`},null,8,["modelValue","format"])]))}})),q=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:X});const G={class:"md-example-child md-example-child-slider-0"};var J=y(u(d({},{name:"SliderDemo",title:"边界值"}),{expose:[],setup(e){const l=p([10,80]);return(e,a)=>(S(),j("div",G,[_(T(z),{modelValue:l.value,"onUpdate:modelValue":a[1]||(a[1]=e=>l.value=e),min:10,max:80},null,8,["modelValue"])]))}}));const K={"./demo0.vue":B,"./demo1.vue":A,"./demo2.vue":F,"./demo3.vue":q,"./demo4.vue":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:J})};var Q=D("Slider",Object.entries(K).map((e=>e[1].default)));const Y={class:"md-nav"},Z=_("p",{class:"name"},"Slider",-1),ee=_("p",{class:"name-zh"},"滑块",-1),le={class:"md-example slider"},ae={class:"md-example-content"};Q.render=function(e,l,a,t,r,n){const o=V("md-icon");return S(),j(H,null,[_("div",Y,[_("p",{class:"home",onClick:l[1]||(l[1]=l=>e.$router.push("/"))},[_(o,{name:"home",size:"lg"})]),Z,ee]),_("div",le,[(S(!0),j(H,null,O(e.demos,((e,l)=>(S(),j("section",{key:l,class:"md-example-section"},[_("div",{class:"md-example-title",textContent:E(e.title)},null,8,["textContent"]),_("div",{class:"md-example-describe",textContent:E(e.describe)},null,8,["textContent"]),_("div",ae,[(S(),j(M(e)))])])))),128))])],64)};export default Q;
