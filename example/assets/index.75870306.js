var l=Object.defineProperty,e=Object.defineProperties,o=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(e,o,n)=>o in e?l(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,r=(l,e)=>{for(var o in e||(e={}))t.call(e,o)&&i(l,o,e[o]);if(n)for(var o of n(e))s.call(e,o)&&i(l,o,e[o]);return l};import{B as u}from"./core.esm.e5e53058.js";import{t as a}from"./index.0698aebd.js";import{m as c,k as p,D as h,j as d,U as f,d as v,o as w,c as m,n as y,l as g,f as P,t as D,r as k,w as T,g as x,i as U,u as b,F as O,h as S}from"./vendor.cf144a98.js";import{M as B}from"./index.2a21c8a2.js";import{c as Y}from"./index.af74a7b4.js";import"./animate.8ea3c80e.js";
/*!
 * better-scroll / pull-down
 * (c) 2016-2021 ustbhuangyi
 * Released under the MIT License.
 */var F="undefined"!=typeof window,j=F&&navigator.userAgent.toLowerCase();j&&/wechatdevtools/.test(j),j&&j.indexOf("android"),function(){if("string"==typeof j){var l=/os (\d\d?_\d(_\d)?)/.exec(j);if(!l)return!1;var e=l[1].split("_").map((function(l){return parseInt(l,10)}));return!!(13===e[0]&&e[1]>=4)}}();if(F){try{var L={};Object.defineProperty(L,"passive",{get:function(){!0}}),window.addEventListener("test-passive",(function(){}),L)}catch(yl){}}var M=F&&document.createElement("div").style,_=function(){if(!F)return!1;for(var l=0,e=[{key:"standard",value:"transform"},{key:"webkit",value:"webkitTransform"},{key:"Moz",value:"MozTransform"},{key:"O",value:"OTransform"},{key:"ms",value:"msTransform"}];l<e.length;l++){var o=e[l];if(void 0!==M[o.value])return o.key}return!1}();function C(l){return!1===_?l:"standard"===_?"transitionEnd"===l?"transitionend":l:_+l.charAt(0).toUpperCase()+l.substr(1)}_&&"standard"!==_&&_.toLowerCase();C("transform"),C("transition");F&&C("perspective"),C("transitionTimingFunction"),C("transitionDuration"),C("transitionDelay"),C("transformOrigin"),C("transitionEnd"),C("transitionProperty");var H={style:"cubic-bezier(0.165, 0.84, 0.44, 1)",fn:function(l){return 1- --l*l*l*l}},E=[{key:"finishPullDown",name:"finishPullDown"},{key:"openPullDown",name:"openPullDown"},{key:"closePullDown",name:"closePullDown"},{key:"autoPullDownRefresh",name:"autoPullDownRefresh"}].map((function(l){return{key:l.key,sourceKey:"plugins.pullDownRefresh."+l.name}})),R=function(){function l(l){this.scroll=l,this.pulling=!1,this.init()}return l.prototype.init=function(){this.handleBScroll(),this.handleOptions(this.scroll.options.pullDownRefresh),this.handleHooks(),this.watch()},l.prototype.handleBScroll=function(){this.scroll.registerType(["pullingDown"]),this.scroll.proxy(E)},l.prototype.handleOptions=function(l){void 0===l&&(l={}),l=!0===l?{}:l;this.options=function(l,e){for(var o in e)l[o]=e[o];return l}({threshold:90,stop:40},l),this.scroll.options.probeType=3},l.prototype.handleHooks=function(){var l=this;this.hooksFn=[];var e=this.scroll.scroller,o=e.scrollBehaviorY;this.currentMinScrollY=this.cachedOriginanMinScrollY=o.minScrollPos,this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.contentChanged,(function(){l.finishPullDown()})),this.registerHooks(o.hooks,o.hooks.eventTypes.computeBoundary,(function(e){e.maxScrollPos>0&&(e.maxScrollPos=-1),e.minScrollPos=l.currentMinScrollY})),this.scroll.eventTypes.alterOptions&&(this.registerHooks(this.scroll,this.scroll.eventTypes.alterOptions,(function(l){l.discreteTime=300,l.easeTime=350})),this.registerHooks(this.scroll,this.scroll.eventTypes.mousewheelEnd,(function(){e.hooks.trigger(e.hooks.eventTypes.end)})))},l.prototype.registerHooks=function(l,e,o){l.on(e,o,this),this.hooksFn.push([l,e,o])},l.prototype.watch=function(){var l=this.scroll.scroller;this.watching=!0,this.registerHooks(l.hooks,l.hooks.eventTypes.end,this.checkPullDown)},l.prototype.unwatch=function(){var l=this.scroll.scroller;this.watching=!1,l.hooks.off(l.hooks.eventTypes.end,this.checkPullDown)},l.prototype.checkPullDown=function(){var l=this.options,e=l.threshold,o=l.stop;return!(this.scroll.y<e)&&(this.pulling||(this.modifyBehaviorYBoundary(o),this.pulling=!0,this.scroll.trigger("pullingDown")),this.scroll.scrollTo(this.scroll.x,o,this.scroll.options.bounceTime,H),this.pulling)},l.prototype.modifyBehaviorYBoundary=function(l){var e=this.scroll.scroller.scrollBehaviorY;this.cachedOriginanMinScrollY=e.minScrollPos,this.currentMinScrollY=l,e.computeBoundary()},l.prototype.finishPullDown=function(){if(!0===this.pulling){var l=this.scroll.scroller.scrollBehaviorY;this.currentMinScrollY=this.cachedOriginanMinScrollY,l.computeBoundary(),this.pulling=!1,this.scroll.resetPosition(this.scroll.options.bounceTime,H)}},l.prototype.openPullDown=function(l){void 0===l&&(l={}),this.handleOptions(l),this.watching||this.watch()},l.prototype.closePullDown=function(){this.unwatch()},l.prototype.autoPullDownRefresh=function(){var l=this.options,e=l.threshold,o=l.stop;!this.pulling&&this.watching&&(this.pulling=!0,this.modifyBehaviorYBoundary(o),this.scroll.scrollTo(this.scroll.x,e),this.scroll.trigger("pullingDown"),this.scroll.scrollTo(this.scroll.x,o,this.scroll.options.bounceTime,H))},l.pluginName="pullDownRefresh",l}(),$="undefined"!=typeof window,z=$&&navigator.userAgent.toLowerCase();z&&/wechatdevtools/.test(z),z&&z.indexOf("android"),function(){if("string"==typeof z){var l=/os (\d\d?_\d(_\d)?)/.exec(z);if(!l)return!1;var e=l[1].split("_").map((function(l){return parseInt(l,10)}));return!!(13===e[0]&&e[1]>=4)}}();if($){try{var I={};Object.defineProperty(I,"passive",{get:function(){!0}}),window.addEventListener("test-passive",(function(){}),I)}catch(yl){}}var V=$&&document.createElement("div").style,A=function(){if(!$)return!1;for(var l=0,e=[{key:"standard",value:"transform"},{key:"webkit",value:"webkitTransform"},{key:"Moz",value:"MozTransform"},{key:"O",value:"OTransform"},{key:"ms",value:"msTransform"}];l<e.length;l++){var o=e[l];if(void 0!==V[o.value])return o.key}return!1}();function N(l){return!1===A?l:"standard"===A?"transitionEnd"===l?"transitionend":l:A+l.charAt(0).toUpperCase()+l.substr(1)}A&&"standard"!==A&&A.toLowerCase();N("transform"),N("transition");$&&N("perspective"),N("transitionTimingFunction"),N("transitionDuration"),N("transitionDelay"),N("transformOrigin"),N("transitionEnd"),N("transitionProperty");var X=[{key:"finishPullUp",name:"finishPullUp"},{key:"openPullUp",name:"openPullUp"},{key:"closePullUp",name:"closePullUp"},{key:"autoPullUpLoad",name:"autoPullUpLoad"}].map((function(l){return{key:l.key,sourceKey:"plugins.pullUpLoad."+l.name}})),K=function(){function l(l){this.scroll=l,this.pulling=!1,this.watching=!1,this.init()}return l.prototype.init=function(){this.handleBScroll(),this.handleOptions(this.scroll.options.pullUpLoad),this.handleHooks(),this.watch()},l.prototype.handleBScroll=function(){this.scroll.registerType(["pullingUp"]),this.scroll.proxy(X)},l.prototype.handleOptions=function(l){void 0===l&&(l={}),l=!0===l?{}:l;this.options=function(l,e){for(var o in e)l[o]=e[o];return l}({threshold:0},l),this.scroll.options.probeType=3},l.prototype.handleHooks=function(){var l=this;this.hooksFn=[];var e=this.scroll.scroller.scrollBehaviorY;this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.contentChanged,(function(){l.finishPullUp()})),this.registerHooks(e.hooks,e.hooks.eventTypes.computeBoundary,(function(l){l.maxScrollPos>0&&(l.maxScrollPos=-1)}))},l.prototype.registerHooks=function(l,e,o){l.on(e,o,this),this.hooksFn.push([l,e,o])},l.prototype.watch=function(){this.watching||(this.watching=!0,this.registerHooks(this.scroll,this.scroll.eventTypes.scroll,this.checkPullUp))},l.prototype.unwatch=function(){this.watching=!1,this.scroll.off(this.scroll.eventTypes.scroll,this.checkPullUp)},l.prototype.checkPullUp=function(l){var e=this,o=this.options.threshold;1===this.scroll.movingDirectionY&&l.y<=this.scroll.maxScrollY+o&&(this.pulling=!0,this.scroll.once(this.scroll.eventTypes.scrollEnd,(function(){e.pulling=!1})),this.unwatch(),this.scroll.trigger("pullingUp"))},l.prototype.finishPullUp=function(){var l=this;this.scroll.scroller.scrollBehaviorY.setMovingDirection(0),this.pulling?this.scroll.once(this.scroll.eventTypes.scrollEnd,(function(){l.watch()})):this.watch()},l.prototype.openPullUp=function(l){void 0===l&&(l={}),this.handleOptions(l),this.watch()},l.prototype.closePullUp=function(){this.unwatch()},l.prototype.autoPullUpLoad=function(){var l=this.options.threshold,e=this.scroll.scroller.scrollBehaviorY;if(!this.pulling&&this.watching){var o=e.maxScrollPos+l+-1;this.scroll.scroller.scrollBehaviorY.setMovingDirection(-1),this.scroll.scrollTo(this.scroll.x,o,this.scroll.options.bounceTime)}},l.pluginName="pullUpLoad",l}();const q={scrollingX:{type:Boolean,default:!1},scrollingY:{type:Boolean,default:!0},bouncing:{type:Boolean,default:!0},pullDown:{type:Boolean,default:!1},pullUp:{type:Boolean,default:!1},bounceTime:{type:Number,default:800},isPrevent:{type:Boolean,default:!0},pullDownOptions:{type:Object,default:{threshold:60,stop:50}},pullUpOtions:{type:Object,default:{threshold:0}},isFinished:{type:Boolean,default:!1}},G=(l,{emit:e,slots:o})=>{const n=c({x:0,y:0}),t=c(!0),s=c(!1),i=c(!1),v=p((()=>(n.value.y-10)/l.pullDownOptions.threshold)),w=c(!1),m=p((()=>t.value?i.value?a("md.scroll_view.refresh.freedRefresh"):a("md.scroll_view.refresh.pullDownRefresh"):s.value?a("md.scroll_view.refresh.refreshing"):a("md.scroll_view.refresh.success"))),y=p((()=>l.isFinished?a("md.scroll_view.more.allLoaded"):(w.value,a("md.scroll_view.more.loading"))));let g=null;const P=c(null),D=()=>{P.value&&(g=function(l,e=!0,o=!0,n){e&&u.use(R);o&&u.use(K);return new u(l,r({scrollX:!1,scrollY:!0,probeType:3,tap:"tap",bounceTime:800,click:!0},n))}(P.value,l.pullDown,l.pullUp,{scrollX:l.scrollingX,scrollY:l.scrollingY,bounce:l.bouncing,bounceTime:l.bounceTime,click:!l.isPrevent,pullDownRefresh:l.pullDownOptions,pullUpLoad:l.pullUpOtions}),l.pullDown&&g.on("pullingDown",x),l.pullUp&&g.on("pullingUp",U),g.on("scroll",T))},k=()=>g,T=o=>{o.y>l.pullDownOptions.threshold+10&&(i.value=!0),n.value=o,e("scroll",o)},x=()=>{t.value=!1,s.value=!0,e("pullingDown")},U=()=>{var o;l.isFinished?null==(o=k())||o.closePullUp():(w.value=!0,e("pullingUp"))};return d((()=>{D()})),f((()=>{var l;null==(l=k())||l.destroy()})),{wrapRef:P,getScrollerInstance:k,resetScroller:()=>{g&&(g.destroy(),g=null,D())},finishPullDown:()=>{var e;s.value=!1,i.value=!1,null==(e=k())||e.finishPullDown(),globalThis.setTimeout((()=>{var l;t.value=!0,null==(l=k())||l.refresh()}),l.bounceTime+100)},beforePullDown:t,canFreePullingDown:i,isPullingDown:s,pullDownText:m,pullDownPercent:v,finishPullUp:()=>{var e;null==(e=k())||e.finishPullUp(),h((()=>{var e,o;null==(e=k())||e.refresh(),l.isFinished&&(null==(o=k())||o.closePullUp())})),w.value=!1},isPullUpLoad:w,pullUpText:y}};var J=v({name:"MdScrollView",props:q,emits:["pullingDown","pullingUp","scroll"],setup(l,e){const{wrapRef:o,getScrollerInstance:n,resetScroller:t,finishPullDown:s,beforePullDown:i,isPullingDown:r,canFreePullingDown:u,pullDownText:a,pullDownPercent:c,finishPullUp:p,isPullUpLoad:h,pullUpText:d}=G(l,e);return{wrapper:o,getScrollerInstance:n,resetScroller:t,finishPullDown:s,beforePullDown:i,isPullingDown:r,canFreePullingDown:u,pullDownText:a,pullDownPercent:c,finishPullUp:p,isPullUpLoad:h,pullUpText:d}}});const Q={class:"md-scroll-view"},W={key:0,class:"scroll-view-header"},Z={ref:"wrapper",class:"scroll-view-container"},ll={class:"scroll-view-content"},el={key:0,class:"scroll-pulldown-wrapper"},ol={key:1,class:"scroll-pullup-wrapper"},nl={key:1,class:"scroll-view-footer"};J.render=function(l,e,o,n,t,s){return w(),m("div",Q,[l.$slots.header?(w(),m("div",W,[y(l.$slots,"header")])):g("",!0),P("div",Z,[P("div",ll,[l.pullDown?(w(),m("div",el,[y(l.$slots,"pulldown",{beforePullDown:l.beforePullDown,isPullingDown:l.isPullingDown,canFreePullingDown:l.canFreePullingDown,pullDownText:l.pullDownText,pullDownPercent:l.pullDownPercent},(()=>[P("span",null,D(l.pullDownText),1)]))])):g("",!0),y(l.$slots,"default"),l.pullUp?(w(),m("div",ol,[y(l.$slots,"pullup",{isPullUpLoad:l.isPullUpLoad,pullUpText:l.pullUpText,isFinished:l.isFinished},(()=>[P("span",null,D(l.pullUpText),1)]))])):g("",!0)])],512),l.$slots.footer?(w(),m("div",nl,[y(l.$slots,"footer")])):g("",!0)])};var tl=v({name:"MdScrollViewPulldown",components:{MdRoller:B},props:{rollerColor:{type:String,default:"#2F86F6"},percent:{type:Number,default:void 0},pullDownText:{type:String,default:""},isPullingDown:{type:Boolean,default:!1}}});const sl={class:"md-scroll-pulldown"},il={class:"pulldown-tip"};tl.render=function(l,e,o,n,t,s){const i=k("md-roller");return w(),m("div",sl,[P(i,{process:l.isPullingDown?void 0:l.percent,width:10,color:l.rollerColor},null,8,["process","color"]),P("p",il,D(l.pullDownText),1)])};var rl=v({props:{pullUpText:{type:String,default:""}}});rl.render=function(l,e,o,n,t,s){return w(),m(U("div"),r({class:"md-scroll-pullup"},l.$attrs),{default:T((()=>[x(D(l.pullUpText),1)])),_:1},16)},J.install=l=>{l.component(J.name,J),l.component(tl.name,tl),l.component(rl.name,rl)};const ul={class:"\n      md-example-child\n      md-example-child-scroll-view\n      md-example-child-scroll-view-0\n    "};var al,cl=v((al=r({},{name:"ScrollViewDemo",title:"基本"}),e(al,o({expose:[],setup(l){const e=(l=1500)=>new Promise(((e,o)=>{setTimeout((()=>e(!1)),l)})),o=c(10),n=c(null),t=c(!1),s=async()=>{await e(),o.value=o.value+5,n.value.finishPullDown()},i=async()=>{await e(1e3),o.value=o.value+5,n.value.finishPullUp(),t.value=!0};return(l,e)=>(w(),m("div",ul,[P(b(J),{ref:n,"pull-down":!0,"pull-up":!0,"is-finished":t.value,onPullingDown:s,onPullingUp:i},{pulldown:T((({pullDownText:l,pullDownPercent:e,isPullingDown:o})=>[P(b(tl),{"is-pulling-down":o,percent:e,"pull-down-text":l},null,8,["is-pulling-down","percent","pull-down-text"])])),pullup:T((({pullUpText:l})=>[P(b(rl),{"pull-up-text":l},null,8,["pull-up-text"])])),default:T((()=>[(w(!0),m(O,null,S(o.value,(l=>(w(),m("div",{key:l,class:"scroll-view-item",onClick:e=>{return o=l,void console.log(o);var o}},D(l),9,["onClick"])))),128))])),_:1},8,["is-finished"])]))}}))));const pl={"./demo0.vue":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:cl})};var hl=Y("ScrollView",Object.entries(pl).map((l=>l[1].default)));const dl={class:"md-nav"},fl=P("p",{class:"name"},"ScrollView",-1),vl=P("p",{class:"name-zh"},"滚动区域/下拉刷新",-1),wl={class:"md-example scroll-view"},ml={class:"md-example-content"};hl.render=function(l,e,o,n,t,s){const i=k("md-icon");return w(),m(O,null,[P("div",dl,[P("p",{class:"home",onClick:e[1]||(e[1]=e=>l.$router.push("/"))},[P(i,{name:"home",size:"lg"})]),fl,vl]),P("div",wl,[(w(!0),m(O,null,S(l.demos,((l,e)=>(w(),m("section",{key:e,class:"md-example-section"},[P("div",{class:"md-example-title",textContent:D(l.title)},null,8,["textContent"]),P("div",{class:"md-example-describe",textContent:D(l.describe)},null,8,["textContent"]),P("div",ml,[(w(),m(U(l)))])])))),128))])],64)};export default hl;
